(self.webpackChunkbiblia=self.webpackChunkbiblia||[]).push([[179],{384:(e,t,r)=>{"use strict";var n=r(893),a=r(294),s=r(935),o=r(936),c=r(757),i=r.n(c),l=r(926),u=r.n(l),f=r(38),b=r.n(f);const h=function(){return(0,n.jsx)("div",{className:"spinner"})},g=function(e){for(var t=[],r=[],a=[],s=0;s<e.bibles.length;s++)t.push((0,n.jsx)("option",{value:s,children:e.bibles[s]},s));for(var o=0;o<e.books.length;o++)r.push((0,n.jsx)("option",{value:o,children:e.books[o]},o));for(var c=0;c<e.chapters[e.book];c++)a.push((0,n.jsx)("option",{value:c,children:c+1},c));return(0,n.jsxs)("div",{className:"search",children:[(0,n.jsx)("select",{name:"bible","aria-label":"Wybierz przekład",value:e.bible,onChange:e.onBibleChange,children:t}),(0,n.jsx)("select",{name:"book","aria-label":"Wybierz księgę",value:e.book,onChange:e.onBookChange,children:r}),(0,n.jsx)("select",{name:"chapter","aria-label":"Wybierz rozdział",value:e.chapter,onChange:e.onChapterChange,children:a})]})},p=function(e){var t=e.index,r=e.verse;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t}),(0,n.jsx)("td",{children:r})]})},v=function(e){var t=e.verses;return(0,n.jsx)("table",{children:(0,n.jsx)("tbody",{children:t.map((function(e,t){return(0,n.jsx)(p,{index:t+1,verse:e},t)}))})})},d=function(){var e=(0,o.lr)(),t=b()(e,2),r=t[0],s=t[1],c=(0,a.useState)(JSON.parse(localStorage.getItem("variables"))),l=b()(c,2),f=l[0],p=l[1],d=(0,a.useState)(r.get("bible")||localStorage.getItem("bible")||0),x=b()(d,2),k=x[0],j=x[1],m=(0,a.useState)(r.get("book")||localStorage.getItem("book")||0),S=b()(m,2),w=S[0],E=S[1],C=(0,a.useState)(r.get("chapter")||localStorage.getItem("chapter")||0),I=b()(C,2),y=I[0],z=I[1],N=(0,a.useState)(JSON.parse(localStorage.getItem("verses"))),B=b()(N,2),W=B[0],J=B[1];return(0,a.useEffect)(u()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://biblia-api.kosciolwroclaw.pl");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,p(t);case 6:case"end":return e.stop()}}),e)}))),[]),(0,a.useEffect)(u()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://biblia-api.kosciolwroclaw.pl","/").concat(k,"/").concat(w,"/").concat(y));case 2:return e.next=4,e.sent.json();case 4:t=e.sent,J(t.verses);case 6:case"end":return e.stop()}}),e)}))),[k,w,y]),(0,a.useEffect)((function(){return localStorage.setItem("variables",JSON.stringify(f))}),[f]),(0,a.useEffect)((function(){return localStorage.setItem("bible",k)}),[k]),(0,a.useEffect)((function(){return localStorage.setItem("book",w)}),[w]),(0,a.useEffect)((function(){return localStorage.setItem("chapter",y)}),[y]),(0,a.useEffect)((function(){return localStorage.setItem("verses",JSON.stringify(W))}),[W]),(0,a.useEffect)((function(){return r.set("bible",k)}),[k]),(0,a.useEffect)((function(){return r.set("book",w)}),[w]),(0,a.useEffect)((function(){return r.set("chapter",y)}),[y]),(0,a.useEffect)((function(){return s(r)}),[k,w,y]),(0,a.useEffect)((function(){return window.scrollTo(0,0)})),(0,n.jsxs)(n.Fragment,{children:[f?(0,n.jsx)(g,{bibles:f.bibles,books:f.books,chapters:f.chapters[k],bible:k,book:w,chapter:y,onBibleChange:function(e){return j(e.target.value)||z(0)},onBookChange:function(e){return E(e.target.value)||z(0)},onChapterChange:function(e){return z(e.target.value)}}):void 0,W?(0,n.jsx)(v,{verses:W}):(0,n.jsx)(h,{})]})};(0,s.render)((0,n.jsx)(a.StrictMode,{children:(0,n.jsx)(o.VK,{children:(0,n.jsx)(d,{})})}),document.getElementById("app")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js")}))}},0,[[384,666,216]]]);
//# sourceMappingURL=main.1f9829c2.js.map